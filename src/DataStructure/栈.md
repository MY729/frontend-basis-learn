# 栈

## 概念

栈是一种特殊的线性表，仅能在线性表的一端操作，栈顶允许操作，栈底不允许操作，遵循后进先出规则

:::tip 栈常用的存储结构
  * 顺序存储，使用数组
  * 链式存储，使用链表
:::

## 栈的设计: 顺序存储

主要有两个操作：将元素压入栈，push方法；将栈顶元素出栈，pop方法。  

除此外，还定义查看栈顶元素值的peek方法，返回栈顶元素值，但不删除它；定义清空当前栈内的所有元素的clear方法；返回当前栈内元素总数length方法

## Stack类

定义栈的属性和方法

```js
function Stack () {
  this.dataStore = [];    //保存栈内元素，初始化为空数组
  this.top = 0;           //记录栈顶位置
  this.pop = pop;         //出栈
  this.push = push;       //入栈
  this.peek = peek;       //查看栈顶元素
  this.length = length;   //查看栈内元素总数
  this.display = display; //查看打印栈内元素
  this.clear = clear;     //清空栈
}
```

## push方法：向栈内压入一个元素

```js
// 出栈
function push (element) {
  this.dataStore[this.top++] = element;
}
```

## pop方法：取出栈顶元素

```js
// 入栈
function pop () {
  return this.dataStore[--this.top]; // 返回栈顶元素，并将 top 的值减 1
}
```

## peek方法：查看栈顶元素

```js
// 查看栈顶元素
function peek () {
  if (this.top > 0) {
    return this.dataStore[this.top - 1]; // 返回栈顶元素
  } else {
    return 'empty';
  }
}
```

## length方法: 返回栈内元素总数

```js
// 返回栈内元素总数
function length() {
  return this.top;
}
```

## display方法: 查看所有栈内元素

```js
// 查看所有栈内元素
function display() {
  return this.dataStore;
}
```

## clear方法: 清空栈内元素

```js
// 清空栈内元素
function clear() {
  this.dataStore = [];
  this.top = 0;
}
```

## 示例

```js
function Stack () {
  this.dataStore = [];    //保存栈内元素，初始化为空数组
  this.top = 0;           //记录栈顶位置
  this.pop = pop;         //出栈
  this.push = push;       //入栈
  this.peek = peek;       //查看栈顶元素
  this.length = length;   //查看栈内元素总数
  this.display = display; //查看打印栈内元素
  this.clear = clear;     //清空栈
}

// 出栈
function push (element) {
  this.dataStore[this.top++] = element;
}

// 入栈
function pop () {
  return this.dataStore[--this.top]; // 返回栈顶元素，并将 top 的值减 1
}

// 查看栈顶元素
function peek () {
  if (this.top > 0) {
    return this.dataStore[this.top - 1]; // 返回栈顶元素
  } else {
    return 'empty';
  }
}

// 返回栈内元素总数
function length() {
  return this.top;
}

// 查看所有栈内元素
function display() {
  return this.dataStore;
}

// 清空栈内元素
function clear() {
  this.dataStore = [];
  this.top = 0;
}

// 示例
var fruits = new Stack()
fruits.push('香蕉')
fruits.push('橘子')
fruits.display() // ["香蕉", "橘子"]
fruits.length() // 2
fruits.peek() // "橘子"
fruits.pop() // "橘子"
fruits.peek() // "香蕉"
```

## 栈的设计: 链式存储

::: danger TODO
待补充
:::
